(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var s=o.getElementsByTagName("script");if(s.length)for(var d=s.length-1;d>-1&&!t;)t=s[d--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t={events:{},subscribe:function(e,t){console.log(`PUBSUB: someone just subscribed to know about ${e}`),this.events[e]=this.events[e]||[],this.events[e].push(t)},unsubscribe:function(e,t){console.log(`PUBSUB: someone just UNsubscribed from ${e}`),this.events[e]&&(this.events[e]=this.events[e].filter((e=>e!==t)))},publish:function(e,t){console.log(`PUBSUB: Making an broadcast about ${e} with ${t}`),this.events[e]&&this.events[e].forEach((e=>{e(t)}))}};class o{constructor(e,t,o){this.title=e,this.dueDate=t,this.dueTime=o,this.done=!1}}const s={todos:[],createTodo:(e,d,c)=>{if(""==e||""==d)return void console.log("cancelled");const n=new o(e,d,c);s.addTodo(n),t.publish("todoUpdated",s.todos)},addTodo:e=>{s.todos.push(e)},removeTodo:e=>{s.todos=s.todos.filter((t=>t.title!==e))},getTodo:()=>s.todos,updateTodo:e=>{s.todos=e}},d=e.p+"images/0f46e2728eb984e21ce8.png",c=e.p+"images/b6ee280df76d0ad9baf6.png";class n extends o{constructor(e,t,o,s){super(e,t,o),this.description=s,this.tasks=[]}}const i={projectsList:[],createProject:()=>{const e=new n(title,dueDate,dueTime,description);i.addToProjectsList(e),console.log(i.projectsList)},addToProjectsList:e=>{i.projectsList.push(e)},getProjectsList:()=>i.projectsList};(()=>{const e=document.querySelector(".addTaskButton"),t=document.querySelector(".addTaskDialog"),o=document.querySelector(".closeDialog"),d=document.querySelector(".submitDialog"),c=document.querySelector(".addProjectButton"),n=document.querySelector(".addTaskDialog #title"),r=document.querySelector(".addTaskDialog #dueDate"),a=document.querySelector(".addTaskDialog #dueTime");let l="";e.addEventListener("click",(()=>{const e=document.querySelector(".description").querySelectorAll("label, textarea"),o=document.querySelector(".addTaskDialog h1");l="task",o.innerHTML="Add Task",null!=e&&e.forEach((e=>e.remove())),t.classList.add("active")})),c.addEventListener("click",(()=>{const e=document.querySelector(".description"),o=document.querySelector(".addTaskDialog h1");l="project",o.innerHTML="Add Project",function(e){const t=document.createElement("label");t.setAttribute("for","description"),t.innerHTML="Description",e.appendChild(t);const o=document.createElement("textarea");o.id="description",e.appendChild(o)}(e),t.classList.add("active")})),o.addEventListener("click",(()=>{t.classList.remove("active")})),d.addEventListener("click",(()=>{if("task"==l)s.createTodo(n.value,r.value,a.value);else{const e=document.querySelector(".addTaskDialog #description");i.createProject(n.value,r.value,a.value,e.value)}n.value="",r.value="",a.value="",t.classList.remove("active")}))})(),(()=>{const e=document.querySelector(".tasksButton"),o=document.querySelector(".main");function n(e){const n=e??s.getTodo();o.querySelectorAll("div, h1").forEach((e=>e.remove())),((e,o)=>{const s=document.createElement("h1");if(0==e.length)return s.innerHTML="Nothing to see here...",void o.appendChild(s);s.innerHTML="Tasks",o.appendChild(s),e.forEach((s=>{const n=document.createElement("div");n.classList.add(".container"),o.appendChild(n);const i=document.createElement("input");i.setAttribute("type","checkbox"),s.done?i.checked=!0:i.checked=!1,i.addEventListener("click",(()=>{s.done=!s.done,s.done?n.style.backgroundColor="green":n.style.backgroundColor="white"})),n.appendChild(i);const r=document.createElement("input");r.value=s.title,r.setAttribute("type","text"),r.disabled=!0,n.appendChild(r);const a=document.createElement("input");a.value=s.dueDate,a.setAttribute("type","date"),a.disabled=!0,n.appendChild(a);const l=document.createElement("input");l.value=s.dueTime,l.setAttribute("type","time"),l.disabled=!0,n.appendChild(l);const u=document.createElement("img");u.classList.add("edit"),u.src=d,n.appendChild(u);const p=n.querySelectorAll("input");u.addEventListener("click",(()=>{p.forEach((e=>{e.disabled=!e.disabled,e.disabled?e.style.border="1px solid white":e.style.border="1px solid"}))}));const h=document.createElement("img");h.classList.add("delete"),h.src=c,n.appendChild(h),h.addEventListener("click",(()=>{!function(o){e=e.filter((e=>e.title!=o)),t.publish("todoUpdated",e)}(s.title)}))}))})(n,o)}s.createTodo("Test","2023-12-01","12:24"),s.createTodo("Test 2","2023-12-01","12:24"),n(),t.subscribe("todoUpdated",n),t.subscribe("todoUpdated",s.updateTodo),e.addEventListener("click",(()=>{n()}))})()})();